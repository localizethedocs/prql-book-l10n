msgid ""
msgstr ""
"Project-Id-Version: PRQL language book\n"
"POT-Creation-Date: 2026-01-10T16:16:34Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/reference/syntax/s-strings.md:1
msgid "S-strings"
msgstr ""

#: src/reference/syntax/s-strings.md:3
msgid ""
"An s-string inserts SQL directly, as an escape hatch when there's something "
"that PRQL doesn't yet implement. For example, there's a `version()` function "
"in PostgreSQL that returns the PostgreSQL version, so if we want to use "
"that, we use an s-string:"
msgstr ""

#: src/reference/syntax/s-strings.md:8
msgid ""
"```prql\n"
"from my_table\n"
"select db_version = s\"version()\"\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:13
msgid ""
"Embed a column name in an s-string using braces. For example, PRQL's "
"standard library defines the `average` function as:"
msgstr ""

#: src/reference/syntax/s-strings.md:16
msgid ""
"```prql no-eval\n"
"let average = column -> s\"AVG({column})\"\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:20
msgid "So this compiles using the function:"
msgstr ""

#: src/reference/syntax/s-strings.md:27
msgid ""
"```admonish note\n"
"Because S-string contents are SQL, double-quotes (`\"`) will denote a "
"_column name_.\n"
"To avoid that, use single-quotes (`'`) around the SQL string, and\n"
"adjust the quotes of the S-string. For example, instead of "
"`s'CONCAT(\"hello\", \"world\")'` use `s\"CONCAT('hello', 'world')\"`\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:33
msgid "Here's an example of a more involved use of an s-string:"
msgstr ""

#: src/reference/syntax/s-strings.md:35
msgid ""
"```prql\n"
"from de=dept_emp\n"
"join s=salaries side:left (s.emp_no == de.emp_no && s\"\"\"\n"
"  ({s.from_date}, {s.to_date})\n"
"  OVERLAPS\n"
"  ({de.from_date}, {de.to_date})\n"
"\"\"\")\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:44
msgid ""
"For those who have used Python, s-strings are similar to Python's f-strings, "
"but the result is SQL code, rather than a string literal. For example, a "
"Python f-string of `f\"average({col})\"` would produce "
"`\"average(salary)\"`, with quotes; while in PRQL, `s\"average({col})\"` "
"produces `average(salary)`, without quotes."
msgstr ""

#: src/reference/syntax/s-strings.md:49
msgid ""
"Note that interpolations can only contain plain variable names and not whole "
"expression like Python."
msgstr ""

#: src/reference/syntax/s-strings.md:52
msgid "We can also use s-strings to produce a full table:"
msgstr ""

#: src/reference/syntax/s-strings.md:54
msgid ""
"```prql\n"
"from s\"SELECT DISTINCT ON first_name, id, age FROM employees ORDER BY age "
"ASC\"\n"
"join s = s\"SELECT * FROM salaries\" (==id)\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:59
msgid ""
"```admonish note\n"
"S-strings in user code are intended as an escape hatch for an unimplemented\n"
"feature. If we often need s-strings to express something, that's a sign we\n"
"should implement it in PRQL or PRQL's stdlib. If you often require an s-"
"string,\n"
"[submit an issue with your use case](https://github.com/PRQL/prql/issues/new/"
"choose).\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:66
msgid "Braces"
msgstr ""

#: src/reference/syntax/s-strings.md:68
msgid "To output braces from an s-string, use double braces:"
msgstr ""

#: src/reference/syntax/s-strings.md:70
msgid ""
"```prql\n"
"from employees\n"
"derive {\n"
"  has_valid_title = s\"regexp_contains(title, '([a-z0-9]*-){{2,}}')\"\n"
"}\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:77
msgid "Precedence within s-strings"
msgstr ""

#: src/reference/syntax/s-strings.md:79
msgid ""
"Variables in s-strings are inserted into the SQL source as-is, which means "
"we may get surprising behavior when the variable has multiple terms and the "
"s-string isn't parenthesized."
msgstr ""

#: src/reference/syntax/s-strings.md:83
msgid ""
"In this toy example, the expression `salary + benefits / 365` gets "
"precedence wrong. The generated SQL code is as if we had written `salary + "
"(benefits / 365)`."
msgstr ""

#: src/reference/syntax/s-strings.md:87
msgid ""
"```prql\n"
"from employees\n"
"derive {\n"
"  gross_salary = salary + benefits,\n"
"  daily_rate = s\"{gross_salary} / 365\"\n"
"}\n"
"```"
msgstr ""

#: src/reference/syntax/s-strings.md:95
msgid "Instead, the numerator `{gross_salary}` must be encased in parentheses:"
msgstr ""

#: src/reference/syntax/s-strings.md:97
msgid ""
"```prql\n"
"from employees\n"
"derive {\n"
"  gross_salary = salary + benefits,\n"
"  daily_rate = s\"({gross_salary}) / 365\"\n"
"}\n"
"```"
msgstr ""
